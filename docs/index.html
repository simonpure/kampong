<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="data:image/svg+xml,%3csvg/%3e" rel="icon">
    <title>kampong</title>
  </head>
  <body>
    <center><h1><img src="logo.svg"</h1></center>
    <center><h3>Welcome to the MoleDAO Hackathon</h3></center>
    <div id="auth" class="main">
      <button class="login">Login</button>
      <div class="error"></div>
      <div class="dialog"></div>
    </div>
    <div id="app" class="hidden"></div>
    <script>
      // Frontpage Ping config
      let STATE = {path: '/kampong', chains: [1, 4, 100]};
    </script>
    <script src="https://www.frontpageping.com/out/app-7ff7ded.js" type="text/javascript"></script>
    <script src="auth/push.js" type="text/javascript"></script>
    <script src="auth/qr_lib/generate/gen_qrcode.js" type="text/javascript"></script>
    <script>
      // Silent Auth config
      document.querySelector('.login')
        .addEventListener('click', sl_auth);

      // wire up
      document.addEventListener('authentication', (e) => {
        if (e.result == 'allowed') {
          document.querySelector('#app').classList.remove('hidden');
          document.querySelector('#auth').classList.add('hidden');
        } else {
          document.querySelector('.error').innerHTML = `Please try login in again`;
        }
      }, false);
    </script>
  </body>
</html>
